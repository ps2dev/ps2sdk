<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PS2SDK: iop/sound/audsrv/src/audsrv.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PS2SDK
   </div>
   <div id="projectbrief">PS2 Homebrew Libraries</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('audsrv_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">audsrv.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="stdio_8h_source.html">stdio.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="thbase_8h_source.html">thbase.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="thsemap_8h_source.html">thsemap.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="loadcore_8h_source.html">loadcore.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="sysmem_8h_source.html">sysmem.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="intrman_8h_source.html">intrman.h</a>&gt;</code><br />
<code>#include &lt;sifcmd.h&gt;</code><br />
<code>#include &lt;libsd.h&gt;</code><br />
<code>#include &lt;<a class="el" href="sysclib_8h_source.html">sysclib.h</a>&gt;</code><br />
<code>#include &lt;audsrv.h&gt;</code><br />
<code>#include &quot;<a class="el" href="audsrv__internal_8h_source.html">audsrv_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="iop_2sound_2audsrv_2src_2common_8h_source.html">common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8h_source.html">rpc_server.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="iop_2sound_2audsrv_2src_2rpc__client_8h_source.html">rpc_client.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="upsamplers_8h_source.html">upsamplers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hw_8h_source.html">hw.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="spu_8h_source.html">spu.h</a>&quot;</code><br />
<code>#include &quot;debug_printf.h&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for audsrv.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="audsrv_8c__incl.svg" width="100%" height="560"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="audsrv_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0d598793f4b45908f46521f31f108dff" id="r_a0d598793f4b45908f46521f31f108dff"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d598793f4b45908f46521f31f108dff">MODNAME</a>&#160;&#160;&#160;&quot;audsrv&quot;</td></tr>
<tr class="separator:a0d598793f4b45908f46521f31f108dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6d5de492ac61ad29aec7aa9a436bbf" id="r_a1c6d5de492ac61ad29aec7aa9a436bbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c6d5de492ac61ad29aec7aa9a436bbf">VERSION</a>&#160;&#160;&#160;&quot;0.93&quot;</td></tr>
<tr class="separator:a1c6d5de492ac61ad29aec7aa9a436bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1ef91daa419dd4d1ae4031752580a18a" id="r_a1ef91daa419dd4d1ae4031752580a18a"><td class="memItemLeft" align="right" valign="top"><a id="a1ef91daa419dd4d1ae4031752580a18a" name="a1ef91daa419dd4d1ae4031752580a18a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>IRX_ID</b> (MODNAME, 1, 4)</td></tr>
<tr class="separator:a1ef91daa419dd4d1ae4031752580a18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae858c526964b4f9202686ec057246c8f" id="r_ae858c526964b4f9202686ec057246c8f"><td class="memItemLeft" align="right" valign="top">static u8 core1_buf[0x1000]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae858c526964b4f9202686ec057246c8f">__attribute__</a> ((aligned(16)))</td></tr>
<tr class="separator:ae858c526964b4f9202686ec057246c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc7abfb9fc4d953e5e6bd5014948a3e" id="r_addc7abfb9fc4d953e5e6bd5014948a3e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#addc7abfb9fc4d953e5e6bd5014948a3e">play_thread</a> (void *arg)</td></tr>
<tr class="separator:addc7abfb9fc4d953e5e6bd5014948a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcbc0994bd2a234b67ba334bba98374" id="r_a8bcbc0994bd2a234b67ba334bba98374"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8bcbc0994bd2a234b67ba334bba98374">transfer_complete</a> (void *arg)</td></tr>
<tr class="separator:a8bcbc0994bd2a234b67ba334bba98374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b9ac75129aa004ecb1215bdc7b6264" id="r_aa3b9ac75129aa004ecb1215bdc7b6264"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3b9ac75129aa004ecb1215bdc7b6264">update_volume</a> ()</td></tr>
<tr class="separator:aa3b9ac75129aa004ecb1215bdc7b6264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74eb49da756be49fcd0eafee340c4bf3" id="r_a74eb49da756be49fcd0eafee340c4bf3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a74eb49da756be49fcd0eafee340c4bf3">audsrv_stop_audio</a> ()</td></tr>
<tr class="separator:a74eb49da756be49fcd0eafee340c4bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ea71b90d5163569fa5da7b3ad30c23" id="r_a90ea71b90d5163569fa5da7b3ad30c23"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90ea71b90d5163569fa5da7b3ad30c23">audsrv_format_ok</a> (int freq, int bits, int channels)</td></tr>
<tr class="separator:a90ea71b90d5163569fa5da7b3ad30c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f2fa483fb1e9ce5b55b48eca5d925d1" id="r_a8f2fa483fb1e9ce5b55b48eca5d925d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f2fa483fb1e9ce5b55b48eca5d925d1">audsrv_set_format</a> (int freq, int bits, int channels)</td></tr>
<tr class="separator:a8f2fa483fb1e9ce5b55b48eca5d925d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39840d3595dac76a4636a371ea22363e" id="r_a39840d3595dac76a4636a371ea22363e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39840d3595dac76a4636a371ea22363e">audsrv_init</a> ()</td></tr>
<tr class="separator:a39840d3595dac76a4636a371ea22363e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cbc4efcabf1cacf0fc605d07c1b62c5" id="r_a8cbc4efcabf1cacf0fc605d07c1b62c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cbc4efcabf1cacf0fc605d07c1b62c5">audsrv_available</a> ()</td></tr>
<tr class="separator:a8cbc4efcabf1cacf0fc605d07c1b62c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a040227e5cd659d9767c3b5054587f9f1" id="r_a040227e5cd659d9767c3b5054587f9f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a040227e5cd659d9767c3b5054587f9f1">audsrv_queued</a> ()</td></tr>
<tr class="separator:a040227e5cd659d9767c3b5054587f9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6fd06f035d6f7ac65d1f6c5399c9f1" id="r_a1c6fd06f035d6f7ac65d1f6c5399c9f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c6fd06f035d6f7ac65d1f6c5399c9f1">audsrv_wait_audio</a> (int buflen)</td></tr>
<tr class="separator:a1c6fd06f035d6f7ac65d1f6c5399c9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc83c5941bfa150bf8adb821f92f3ae8" id="r_adc83c5941bfa150bf8adb821f92f3ae8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc83c5941bfa150bf8adb821f92f3ae8">audsrv_play_audio</a> (const char *buf, int buflen)</td></tr>
<tr class="separator:adc83c5941bfa150bf8adb821f92f3ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1e932fab3e35b04cbf4c651d3a818e" id="r_a1b1e932fab3e35b04cbf4c651d3a818e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b1e932fab3e35b04cbf4c651d3a818e">audsrv_set_volume</a> (int vol)</td></tr>
<tr class="separator:a1b1e932fab3e35b04cbf4c651d3a818e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a25ac3a1b590c27f4d096d4d6cadb00" id="r_a1a25ac3a1b590c27f4d096d4d6cadb00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a25ac3a1b590c27f4d096d4d6cadb00">audsrv_set_threshold</a> (int amount)</td></tr>
<tr class="separator:a1a25ac3a1b590c27f4d096d4d6cadb00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96a6cbe0fcfc100127b49184d4480a2" id="r_af96a6cbe0fcfc100127b49184d4480a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af96a6cbe0fcfc100127b49184d4480a2">audsrv_quit</a> ()</td></tr>
<tr class="separator:af96a6cbe0fcfc100127b49184d4480a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d259b9f2c7d45f4713e0c483d0fa25b" id="r_a7d259b9f2c7d45f4713e0c483d0fa25b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d259b9f2c7d45f4713e0c483d0fa25b">_start</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a7d259b9f2c7d45f4713e0c483d0fa25b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a69da40149fa83da89f0af9681a6eeeac" id="r_a69da40149fa83da89f0af9681a6eeeac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69da40149fa83da89f0af9681a6eeeac">core1_volume</a> = <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h.html#a7ed6a6db7ec466a04b820f3de267708a">MAX_VOLUME</a></td></tr>
<tr class="separator:a69da40149fa83da89f0af9681a6eeeac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac273d1740f99ea0b6a7a4b3735ecdfa0" id="r_ac273d1740f99ea0b6a7a4b3735ecdfa0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac273d1740f99ea0b6a7a4b3735ecdfa0">core1_freq</a> = 0</td></tr>
<tr class="separator:ac273d1740f99ea0b6a7a4b3735ecdfa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfe400051687fd6e8c158ac22d509ae6" id="r_acfe400051687fd6e8c158ac22d509ae6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfe400051687fd6e8c158ac22d509ae6">core1_bits</a> = 0</td></tr>
<tr class="separator:acfe400051687fd6e8c158ac22d509ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3168c7f7f22624aa7906c9b47bacbd30" id="r_a3168c7f7f22624aa7906c9b47bacbd30"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3168c7f7f22624aa7906c9b47bacbd30">core1_channels</a> = 0</td></tr>
<tr class="separator:a3168c7f7f22624aa7906c9b47bacbd30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78383d9f30a7cb3d6f4fe07973c7d69a" id="r_a78383d9f30a7cb3d6f4fe07973c7d69a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78383d9f30a7cb3d6f4fe07973c7d69a">core1_sample_shift</a> = 0</td></tr>
<tr class="separator:a78383d9f30a7cb3d6f4fe07973c7d69a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06983e7f6e71b233ea7ff3dee1952f2" id="r_ad06983e7f6e71b233ea7ff3dee1952f2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad06983e7f6e71b233ea7ff3dee1952f2">initialized</a> = 0</td></tr>
<tr class="separator:ad06983e7f6e71b233ea7ff3dee1952f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35fd1e3b4b7aa595eca11a2b9d953c31" id="r_a35fd1e3b4b7aa595eca11a2b9d953c31"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35fd1e3b4b7aa595eca11a2b9d953c31">playing</a> = 0</td></tr>
<tr class="separator:a35fd1e3b4b7aa595eca11a2b9d953c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b54b44595bb0afc505dba9ddc6a4e26" id="r_a5b54b44595bb0afc505dba9ddc6a4e26"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b54b44595bb0afc505dba9ddc6a4e26">ringbuf</a> [20480]</td></tr>
<tr class="separator:a5b54b44595bb0afc505dba9ddc6a4e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2fb3a6b652ed6dda27b5672372183ca" id="r_aa2fb3a6b652ed6dda27b5672372183ca"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2fb3a6b652ed6dda27b5672372183ca">ringbuf_size</a> = sizeof(<a class="el" href="#a5b54b44595bb0afc505dba9ddc6a4e26">ringbuf</a>)</td></tr>
<tr class="separator:aa2fb3a6b652ed6dda27b5672372183ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf189efc18e1f2c352c562b85bf851f" id="r_a6bf189efc18e1f2c352c562b85bf851f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6bf189efc18e1f2c352c562b85bf851f">readpos</a></td></tr>
<tr class="separator:a6bf189efc18e1f2c352c562b85bf851f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f6eda090a2a7d35f235aa0db908ed15" id="r_a4f6eda090a2a7d35f235aa0db908ed15"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f6eda090a2a7d35f235aa0db908ed15">writepos</a></td></tr>
<tr class="separator:a4f6eda090a2a7d35f235aa0db908ed15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e9d895d9f970505d574ee19c1d26d19" id="r_a0e9d895d9f970505d574ee19c1d26d19"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e9d895d9f970505d574ee19c1d26d19">play_tid</a> = 0</td></tr>
<tr class="separator:a0e9d895d9f970505d574ee19c1d26d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd0ef0a782e1c8ca8147796e538a26a" id="r_a7cd0ef0a782e1c8ca8147796e538a26a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cd0ef0a782e1c8ca8147796e538a26a">queue_sema</a> = 0</td></tr>
<tr class="separator:a7cd0ef0a782e1c8ca8147796e538a26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae538f96c6438e7b0ed26269a283afc09" id="r_ae538f96c6438e7b0ed26269a283afc09"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae538f96c6438e7b0ed26269a283afc09">transfer_sema</a> = 0</td></tr>
<tr class="separator:ae538f96c6438e7b0ed26269a283afc09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56a7783a6416e54a779e0e2ffc31fadd" id="r_a56a7783a6416e54a779e0e2ffc31fadd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56a7783a6416e54a779e0e2ffc31fadd">fillbuf_threshold</a> = 0</td></tr>
<tr class="separator:a56a7783a6416e54a779e0e2ffc31fadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeab2fdb9a7b3830fdfa6cdc781c1f9e" id="r_aaeab2fdb9a7b3830fdfa6cdc781c1f9e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaeab2fdb9a7b3830fdfa6cdc781c1f9e">format_changed</a> = 0</td></tr>
<tr class="separator:aaeab2fdb9a7b3830fdfa6cdc781c1f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab524ac072670ad66c54fa64539fad503" id="r_ab524ac072670ad66c54fa64539fad503"><td class="memItemLeft" align="right" valign="top">static short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab524ac072670ad66c54fa64539fad503">rendered_left</a> [512]</td></tr>
<tr class="separator:ab524ac072670ad66c54fa64539fad503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacdc06af33627c2816d728e4ae45f3c1" id="r_aacdc06af33627c2816d728e4ae45f3c1"><td class="memItemLeft" align="right" valign="top">static short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aacdc06af33627c2816d728e4ae45f3c1">rendered_right</a> [512]</td></tr>
<tr class="separator:aacdc06af33627c2816d728e4ae45f3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23dc209a0ea2d9b3b4db0f4fc741ed1" id="r_ad23dc209a0ea2d9b3b4db0f4fc741ed1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="irx_8h.html#structirx__export__table">irx_export_table</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad23dc209a0ea2d9b3b4db0f4fc741ed1">_exp_audsrv</a></td></tr>
<tr class="separator:ad23dc209a0ea2d9b3b4db0f4fc741ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>audsrv IOP server </p>

<p class="definition">Definition in file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0d598793f4b45908f46521f31f108dff" name="a0d598793f4b45908f46521f31f108dff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d598793f4b45908f46521f31f108dff">&#9670;&#160;</a></span>MODNAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODNAME&#160;&#160;&#160;&quot;audsrv&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00035">35</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

</div>
</div>
<a id="a1c6d5de492ac61ad29aec7aa9a436bbf" name="a1c6d5de492ac61ad29aec7aa9a436bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c6d5de492ac61ad29aec7aa9a436bbf">&#9670;&#160;</a></span>VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERSION&#160;&#160;&#160;&quot;0.93&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00036">36</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae858c526964b4f9202686ec057246c8f" name="ae858c526964b4f9202686ec057246c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae858c526964b4f9202686ec057246c8f">&#9670;&#160;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u8 core1_buf[0x1000] __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(aligned(16))</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>double buffer for streaming</p>
<p>SOURCE CHAIN TAG for DMA CHAIN MODE </p>

<p class="definition">Definition at line <a class="el" href="iop_2system_2sifcmd_2src_2sifcmd_8c_source.html#l00014">14</a> of file <a class="el" href="iop_2system_2sifcmd_2src_2sifcmd_8c_source.html">sifcmd.c</a>.</p>

</div>
</div>
<a id="addc7abfb9fc4d953e5e6bd5014948a3e" name="addc7abfb9fc4d953e5e6bd5014948a3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addc7abfb9fc4d953e5e6bd5014948a3e">&#9670;&#160;</a></span>play_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void play_thread </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Main playing thread </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>not used</td></tr>
  </table>
  </dd>
</dl>
<p>This is the main playing thread. It feeds the SPU with upsampled, demux'd audio data, from what has been queued beforehand. The stream is constructed as a ring buffer. This thread only ends with TerminateThread, and is usually asleep, waiting for SPU to complete playing the current wave. SPU plays 2048 bytes blocks, which yields that this thread wakes and sleeps 93.75 times a second </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00429">429</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="audsrv_8c_source.html#l00278">audsrv_available()</a>, <a class="el" href="audsrv_8c_source.html#l00045">core1_bits</a>, <a class="el" href="audsrv_8c_source.html#l00047">core1_channels</a>, <a class="el" href="audsrv_8c_source.html#l00043">core1_freq</a>, <a class="el" href="intrman_8c_source.html#l00227">CpuResumeIntr()</a>, <a class="el" href="intrman_8c_source.html#l00205">CpuSuspendIntr()</a>, <a class="el" href="audsrv_8c_source.html#l00075">fillbuf_threshold</a>, <a class="el" href="upsamplers_8c_source.html#l00636">find_upsampler()</a>, <a class="el" href="audsrv_8c_source.html#l00078">format_changed</a>, <a class="el" href="audsrv_8c_source.html#l00055">playing</a>, <a class="el" href="audsrv_8c_source.html#l00071">queue_sema</a>, <a class="el" href="audsrv_8c_source.html#l00064">readpos</a>, <a class="el" href="audsrv_8c_source.html#l00060">ringbuf</a>, <a class="el" href="audsrv_8c_source.html#l00062">ringbuf_size</a>, and <a class="el" href="audsrv_8c_source.html#l00073">transfer_sema</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>.</p>

</div>
</div>
<a id="a8bcbc0994bd2a234b67ba334bba98374" name="a8bcbc0994bd2a234b67ba334bba98374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bcbc0994bd2a234b67ba334bba98374">&#9670;&#160;</a></span>transfer_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int transfer_complete </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>arg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transfer complete callback. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>not used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, always</dd></dl>
<p>Generated by SPU2, when a block was transmitted and now putting to upload a second block to the other buffer. </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00099">99</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="audsrv_8c_source.html#l00073">transfer_sema</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>.</p>

</div>
</div>
<a id="aa3b9ac75129aa004ecb1215bdc7b6264" name="aa3b9ac75129aa004ecb1215bdc7b6264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3b9ac75129aa004ecb1215bdc7b6264">&#9670;&#160;</a></span>update_volume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_volume </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Apply volume changes, or keep mute if not playing </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00108">108</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="audsrv_8c_source.html#l00041">core1_volume</a>, <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00025">MAX_VOLUME</a>, and <a class="el" href="audsrv_8c_source.html#l00055">playing</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00344">audsrv_play_audio()</a>, <a class="el" href="audsrv_8c_source.html#l00393">audsrv_set_volume()</a>, and <a class="el" href="audsrv_8c_source.html#l00139">audsrv_stop_audio()</a>.</p>

</div>
</div>
<a id="a74eb49da756be49fcd0eafee340c4bf3" name="a74eb49da756be49fcd0eafee340c4bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74eb49da756be49fcd0eafee340c4bf3">&#9670;&#160;</a></span>audsrv_stop_audio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_stop_audio </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops all audio playing </p><dl class="section return"><dt>Returns</dt><dd>0, always</dd></dl>
<p>Mutes output and stops accepting audio blocks; also, clears callbacks. </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00139">139</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00028">AUDSRV_ERR_NOERROR</a>, <a class="el" href="audsrv__rpc_8c_source.html#l00076">call_rpc_1()</a>, <a class="el" href="audsrv_8c_source.html#l00075">fillbuf_threshold</a>, <a class="el" href="audsrv_8c_source.html#l00055">playing</a>, and <a class="el" href="audsrv_8c_source.html#l00108">update_volume()</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>, <a class="el" href="audsrv_8c_source.html#l00512">audsrv_quit()</a>, and <a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8c_source.html#l00047">rpc_command()</a>.</p>

</div>
</div>
<a id="a90ea71b90d5163569fa5da7b3ad30c23" name="a90ea71b90d5163569fa5da7b3ad30c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90ea71b90d5163569fa5da7b3ad30c23">&#9670;&#160;</a></span>audsrv_format_ok()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_format_ok </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>freq</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bits</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>channels</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the format noted by frequency and depth is supported</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>frequency in hz </td></tr>
    <tr><td class="paramname">bits</td><td>bits per sample (8, 16) </td></tr>
    <tr><td class="paramname">channels</td><td>channels </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>positive on success, zero value on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00156">156</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="upsamplers_8c_source.html#l00636">find_upsampler()</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>, and <a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8c_source.html#l00047">rpc_command()</a>.</p>

</div>
</div>
<a id="a8f2fa483fb1e9ce5b55b48eca5d925d1" name="a8f2fa483fb1e9ce5b55b48eca5d925d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f2fa483fb1e9ce5b55b48eca5d925d1">&#9670;&#160;</a></span>audsrv_set_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_set_format </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>freq</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bits</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>channels</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures audio stream </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>frequency in hz </td></tr>
    <tr><td class="paramname">bits</td><td>bits per sample (8, 16) </td></tr>
    <tr><td class="paramname">channels</td><td>number of channels </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative if configuration is not supported</dd></dl>
<p>This sets up audsrv to accept stream in this format and convert it to SPU2's native format if required. Note: it is possible to change the format at any point. You might want to stop audio prior to that, to prevent mismatched audio output. </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00178">178</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00028">AUDSRV_ERR_NOERROR</a>, <a class="el" href="audsrv_8c_source.html#l00156">audsrv_format_ok()</a>, <a class="el" href="audsrv_8c_source.html#l00045">core1_bits</a>, <a class="el" href="audsrv_8c_source.html#l00047">core1_channels</a>, <a class="el" href="audsrv_8c_source.html#l00043">core1_freq</a>, <a class="el" href="audsrv_8c_source.html#l00049">core1_sample_shift</a>, <a class="el" href="audsrv_8c_source.html#l00078">format_changed</a>, <a class="el" href="audsrv_8c_source.html#l00064">readpos</a>, <a class="el" href="audsrv_8c_source.html#l00062">ringbuf_size</a>, and <a class="el" href="audsrv_8c_source.html#l00066">writepos</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>.</p>

</div>
</div>
<a id="a39840d3595dac76a4636a371ea22363e" name="a39840d3595dac76a4636a371ea22363e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39840d3595dac76a4636a371ea22363e">&#9670;&#160;</a></span>audsrv_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_init </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes audsrv library </p><dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00219">219</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00028">AUDSRV_ERR_NOERROR</a>, <a class="el" href="audsrv__rpc_8h_source.html#l00020">AUDSRV_INIT</a>, <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>, <a class="el" href="audsrv_8c_source.html#l00139">audsrv_stop_audio()</a>, <a class="el" href="iop_2sound_2audsrv_2src_2common_8c_source.html#l00034">create_thread()</a>, <a class="el" href="audsrv_8c_source.html#l00053">initialized</a>, <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>, <a class="el" href="audsrv_8c_source.html#l00069">play_tid</a>, <a class="el" href="audsrv_8c_source.html#l00071">queue_sema</a>, <a class="el" href="audsrv_8c_source.html#l00064">readpos</a>, <a class="el" href="audsrv__rpc_8c_source.html#l00061">set_error()</a>, <a class="el" href="audsrv_8c_source.html#l00099">transfer_complete()</a>, <a class="el" href="audsrv_8c_source.html#l00073">transfer_sema</a>, and <a class="el" href="audsrv_8c_source.html#l00066">writepos</a>.</p>

<p class="reference">Referenced by <a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8c_source.html#l00047">rpc_command()</a>.</p>

</div>
</div>
<a id="a8cbc4efcabf1cacf0fc605d07c1b62c5" name="a8cbc4efcabf1cacf0fc605d07c1b62c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cbc4efcabf1cacf0fc605d07c1b62c5">&#9670;&#160;</a></span>audsrv_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_available </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of bytes that can be queued </p><dl class="section return"><dt>Returns</dt><dd>byte count</dd></dl>
<p>Returns the number of bytes that are available in the ring buffer. This is the total bytes that can be queued, without collision of the reading head with the writing head. </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00278">278</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="audsrv__rpc_8c_source.html#l00076">call_rpc_1()</a>, <a class="el" href="audsrv_8c_source.html#l00064">readpos</a>, <a class="el" href="audsrv_8c_source.html#l00062">ringbuf_size</a>, and <a class="el" href="audsrv_8c_source.html#l00066">writepos</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00344">audsrv_play_audio()</a>, <a class="el" href="audsrv_8c_source.html#l00314">audsrv_wait_audio()</a>, <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>, and <a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8c_source.html#l00047">rpc_command()</a>.</p>

</div>
</div>
<a id="a040227e5cd659d9767c3b5054587f9f1" name="a040227e5cd659d9767c3b5054587f9f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a040227e5cd659d9767c3b5054587f9f1">&#9670;&#160;</a></span>audsrv_queued()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_queued </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of bytes already in queue </p><dl class="section return"><dt>Returns</dt><dd>byte count</dd></dl>
<p>Returns the number of bytes that are already in the ring buffer. </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00295">295</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="audsrv__rpc_8c_source.html#l00076">call_rpc_1()</a>, <a class="el" href="audsrv_8c_source.html#l00064">readpos</a>, <a class="el" href="audsrv_8c_source.html#l00062">ringbuf_size</a>, and <a class="el" href="audsrv_8c_source.html#l00066">writepos</a>.</p>

<p class="reference">Referenced by <a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8c_source.html#l00047">rpc_command()</a>.</p>

</div>
</div>
<a id="a1c6fd06f035d6f7ac65d1f6c5399c9f1" name="a1c6fd06f035d6f7ac65d1f6c5399c9f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c6fd06f035d6f7ac65d1f6c5399c9f1">&#9670;&#160;</a></span>audsrv_wait_audio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_wait_audio </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Blocks until there is enough space to enqueue chunk </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buflen</td><td>size of chunk requested to be enqueued (in bytes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status code</dd></dl>
<p>Blocks until there are enough space to store the upcoming chunk in audsrv's internal ring buffer. </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00314">314</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="audsrv_8c_source.html#l00278">audsrv_available()</a>, <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00028">AUDSRV_ERR_NOERROR</a>, <a class="el" href="audsrv__rpc_8c_source.html#l00076">call_rpc_1()</a>, <a class="el" href="audsrv_8c_source.html#l00071">queue_sema</a>, and <a class="el" href="audsrv_8c_source.html#l00062">ringbuf_size</a>.</p>

<p class="reference">Referenced by <a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8c_source.html#l00047">rpc_command()</a>.</p>

</div>
</div>
<a id="adc83c5941bfa150bf8adb821f92f3ae8" name="adc83c5941bfa150bf8adb821f92f3ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc83c5941bfa150bf8adb821f92f3ae8">&#9670;&#160;</a></span>audsrv_play_audio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_play_audio </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uploads audio buffer to SPU </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>audio chunk </td></tr>
    <tr><td class="paramname">buflen</td><td>size of chunk in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>positive number of bytes sent to processor or negative error status</dd></dl>
<p>Plays an audio buffer; It will not interrupt a playing buffer, rather queue it up and play it as soon as possible without interfering with fluent streaming. The buffer and buflen are given in host format (i.e, 11025hz 8bit stereo.) </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00344">344</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="audsrv_8c_source.html#l00278">audsrv_available()</a>, <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00028">AUDSRV_ERR_NOERROR</a>, <a class="el" href="audsrv_8c_source.html#l00053">initialized</a>, <a class="el" href="audsrv_8c_source.html#l00055">playing</a>, <a class="el" href="audsrv_8c_source.html#l00064">readpos</a>, <a class="el" href="audsrv_8c_source.html#l00060">ringbuf</a>, <a class="el" href="audsrv_8c_source.html#l00062">ringbuf_size</a>, <a class="el" href="audsrv__rpc_8c_source.html#l00061">set_error()</a>, <a class="el" href="audsrv_8c_source.html#l00108">update_volume()</a>, and <a class="el" href="audsrv_8c_source.html#l00066">writepos</a>.</p>

<p class="reference">Referenced by <a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8c_source.html#l00047">rpc_command()</a>.</p>

</div>
</div>
<a id="a1b1e932fab3e35b04cbf4c651d3a818e" name="a1b1e932fab3e35b04cbf4c651d3a818e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1e932fab3e35b04cbf4c651d3a818e">&#9670;&#160;</a></span>audsrv_set_volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_set_volume </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>vol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets output volume </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vol</td><td>volume in SPU2 units [0 .. 0x3fff] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00393">393</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00028">AUDSRV_ERR_NOERROR</a>, <a class="el" href="audsrv__rpc_8c_source.html#l00076">call_rpc_1()</a>, <a class="el" href="audsrv_8c_source.html#l00041">core1_volume</a>, <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00025">MAX_VOLUME</a>, <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00022">MIN_VOLUME</a>, and <a class="el" href="audsrv_8c_source.html#l00108">update_volume()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8c_source.html#l00047">rpc_command()</a>.</p>

</div>
</div>
<a id="a1a25ac3a1b590c27f4d096d4d6cadb00" name="a1a25ac3a1b590c27f4d096d4d6cadb00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a25ac3a1b590c27f4d096d4d6cadb00">&#9670;&#160;</a></span>audsrv_set_threshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_set_threshold </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>amount</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00406">406</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

</div>
</div>
<a id="af96a6cbe0fcfc100127b49184d4480a2" name="af96a6cbe0fcfc100127b49184d4480a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af96a6cbe0fcfc100127b49184d4480a2">&#9670;&#160;</a></span>audsrv_quit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int audsrv_quit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shutdowns audsrv </p><dl class="section return"><dt>Returns</dt><dd>AUDSRV_ERR_NOERROR </dd></dl>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00512">512</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="audsrv__rpc_8c_source.html#l00394">audsrv_adpcm_init()</a>, <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h_source.html#l00028">AUDSRV_ERR_NOERROR</a>, <a class="el" href="audsrv_8c_source.html#l00139">audsrv_stop_audio()</a>, <a class="el" href="audsrv__rpc_8c_source.html#l00207">audsrv_stop_cd()</a>, <a class="el" href="audsrv_8c_source.html#l00069">play_tid</a>, <a class="el" href="audsrv_8c_source.html#l00071">queue_sema</a>, <a class="el" href="audsrv__rpc_8c_source.html#l00061">set_error()</a>, and <a class="el" href="audsrv_8c_source.html#l00073">transfer_sema</a>.</p>

<p class="reference">Referenced by <a class="el" href="iop_2sound_2audsrv_2src_2rpc__server_8c_source.html#l00047">rpc_command()</a>.</p>

</div>
</div>
<a id="a7d259b9f2c7d45f4713e0c483d0fa25b" name="a7d259b9f2c7d45f4713e0c483d0fa25b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d259b9f2c7d45f4713e0c483d0fa25b">&#9670;&#160;</a></span>_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _start </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>[]&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IRX _start function </p><dl class="section return"><dt>Returns</dt><dd>zero on success</dd></dl>
<p>Initializes interrupts and the RPC thread. Oh, and greets the user. </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00556">556</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">References <a class="el" href="#ad23dc209a0ea2d9b3b4db0f4fc741ed1">_exp_audsrv</a>, <a class="el" href="audsrv__rpc_8c_source.html#l00394">audsrv_adpcm_init()</a>, and <a class="el" href="intrman_8c_source.html#l00250">CpuEnableIntr()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a69da40149fa83da89f0af9681a6eeeac" name="a69da40149fa83da89f0af9681a6eeeac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69da40149fa83da89f0af9681a6eeeac">&#9670;&#160;</a></span>core1_volume</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int core1_volume = <a class="el" href="ee_2rpc_2audsrv_2include_2audsrv_8h.html#a7ed6a6db7ec466a04b820f3de267708a">MAX_VOLUME</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>core1 (sfx) volume </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00041">41</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00393">audsrv_set_volume()</a>, and <a class="el" href="audsrv_8c_source.html#l00108">update_volume()</a>.</p>

</div>
</div>
<a id="ac273d1740f99ea0b6a7a4b3735ecdfa0" name="ac273d1740f99ea0b6a7a4b3735ecdfa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac273d1740f99ea0b6a7a4b3735ecdfa0">&#9670;&#160;</a></span>core1_freq</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int core1_freq = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>frequency set by user </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00043">43</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>, and <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>.</p>

</div>
</div>
<a id="acfe400051687fd6e8c158ac22d509ae6" name="acfe400051687fd6e8c158ac22d509ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfe400051687fd6e8c158ac22d509ae6">&#9670;&#160;</a></span>core1_bits</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int core1_bits = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>bits per sample, set by user </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00045">45</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>, and <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>.</p>

</div>
</div>
<a id="a3168c7f7f22624aa7906c9b47bacbd30" name="a3168c7f7f22624aa7906c9b47bacbd30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3168c7f7f22624aa7906c9b47bacbd30">&#9670;&#160;</a></span>core1_channels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int core1_channels = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>number of audio channels </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00047">47</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>, and <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>.</p>

</div>
</div>
<a id="a78383d9f30a7cb3d6f4fe07973c7d69a" name="a78383d9f30a7cb3d6f4fe07973c7d69a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78383d9f30a7cb3d6f4fe07973c7d69a">&#9670;&#160;</a></span>core1_sample_shift</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int core1_sample_shift = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>shift count from bytes to samples </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00049">49</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>.</p>

</div>
</div>
<a id="ad06983e7f6e71b233ea7ff3dee1952f2" name="ad06983e7f6e71b233ea7ff3dee1952f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad06983e7f6e71b233ea7ff3dee1952f2">&#9670;&#160;</a></span>initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int initialized = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>initialization status </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00053">53</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>, and <a class="el" href="audsrv_8c_source.html#l00344">audsrv_play_audio()</a>.</p>

</div>
</div>
<a id="a35fd1e3b4b7aa595eca11a2b9d953c31" name="a35fd1e3b4b7aa595eca11a2b9d953c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35fd1e3b4b7aa595eca11a2b9d953c31">&#9670;&#160;</a></span>playing</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int playing = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>playing (not mute) status </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00055">55</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00344">audsrv_play_audio()</a>, <a class="el" href="audsrv_8c_source.html#l00139">audsrv_stop_audio()</a>, <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>, and <a class="el" href="audsrv_8c_source.html#l00108">update_volume()</a>.</p>

</div>
</div>
<a id="a5b54b44595bb0afc505dba9ddc6a4e26" name="a5b54b44595bb0afc505dba9ddc6a4e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b54b44595bb0afc505dba9ddc6a4e26">&#9670;&#160;</a></span>ringbuf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char ringbuf[20480]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>ring buffer itself </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00060">60</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00344">audsrv_play_audio()</a>, and <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>.</p>

</div>
</div>
<a id="aa2fb3a6b652ed6dda27b5672372183ca" name="aa2fb3a6b652ed6dda27b5672372183ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2fb3a6b652ed6dda27b5672372183ca">&#9670;&#160;</a></span>ringbuf_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ringbuf_size = sizeof(<a class="el" href="#a5b54b44595bb0afc505dba9ddc6a4e26">ringbuf</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>size of ring buffer in bytes </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00062">62</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00278">audsrv_available()</a>, <a class="el" href="audsrv_8c_source.html#l00344">audsrv_play_audio()</a>, <a class="el" href="audsrv_8c_source.html#l00295">audsrv_queued()</a>, <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>, <a class="el" href="audsrv_8c_source.html#l00314">audsrv_wait_audio()</a>, and <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>.</p>

</div>
</div>
<a id="a6bf189efc18e1f2c352c562b85bf851f" name="a6bf189efc18e1f2c352c562b85bf851f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bf189efc18e1f2c352c562b85bf851f">&#9670;&#160;</a></span>readpos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int readpos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>reading head pointer </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00064">64</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00278">audsrv_available()</a>, <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>, <a class="el" href="audsrv_8c_source.html#l00344">audsrv_play_audio()</a>, <a class="el" href="audsrv_8c_source.html#l00295">audsrv_queued()</a>, <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>, and <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>.</p>

</div>
</div>
<a id="a4f6eda090a2a7d35f235aa0db908ed15" name="a4f6eda090a2a7d35f235aa0db908ed15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f6eda090a2a7d35f235aa0db908ed15">&#9670;&#160;</a></span>writepos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int writepos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>writing head pointer </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00066">66</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00278">audsrv_available()</a>, <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>, <a class="el" href="audsrv_8c_source.html#l00344">audsrv_play_audio()</a>, <a class="el" href="audsrv_8c_source.html#l00295">audsrv_queued()</a>, and <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>.</p>

</div>
</div>
<a id="a0e9d895d9f970505d574ee19c1d26d19" name="a0e9d895d9f970505d574ee19c1d26d19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e9d895d9f970505d574ee19c1d26d19">&#9670;&#160;</a></span>play_tid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int play_tid = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>playing thread id </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00069">69</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>, and <a class="el" href="audsrv_8c_source.html#l00512">audsrv_quit()</a>.</p>

</div>
</div>
<a id="a7cd0ef0a782e1c8ca8147796e538a26a" name="a7cd0ef0a782e1c8ca8147796e538a26a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd0ef0a782e1c8ca8147796e538a26a">&#9670;&#160;</a></span>queue_sema</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int queue_sema = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>semaphore for wait_audio() </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00071">71</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>, <a class="el" href="audsrv_8c_source.html#l00512">audsrv_quit()</a>, <a class="el" href="audsrv_8c_source.html#l00314">audsrv_wait_audio()</a>, and <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>.</p>

</div>
</div>
<a id="ae538f96c6438e7b0ed26269a283afc09" name="ae538f96c6438e7b0ed26269a283afc09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae538f96c6438e7b0ed26269a283afc09">&#9670;&#160;</a></span>transfer_sema</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int transfer_sema = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>SPU2 transfer complete semaphore </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00073">73</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00219">audsrv_init()</a>, <a class="el" href="audsrv_8c_source.html#l00512">audsrv_quit()</a>, <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>, and <a class="el" href="audsrv_8c_source.html#l00099">transfer_complete()</a>.</p>

</div>
</div>
<a id="a56a7783a6416e54a779e0e2ffc31fadd" name="a56a7783a6416e54a779e0e2ffc31fadd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56a7783a6416e54a779e0e2ffc31fadd">&#9670;&#160;</a></span>fillbuf_threshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int fillbuf_threshold = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>threshold to initiate a callback </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00075">75</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00139">audsrv_stop_audio()</a>, and <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>.</p>

</div>
</div>
<a id="aaeab2fdb9a7b3830fdfa6cdc781c1f9e" name="aaeab2fdb9a7b3830fdfa6cdc781c1f9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeab2fdb9a7b3830fdfa6cdc781c1f9e">&#9670;&#160;</a></span>format_changed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int format_changed = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>boolean to notify when format has changed </p>

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00078">78</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00178">audsrv_set_format()</a>, and <a class="el" href="audsrv_8c_source.html#l00429">play_thread()</a>.</p>

</div>
</div>
<a id="ab524ac072670ad66c54fa64539fad503" name="ab524ac072670ad66c54fa64539fad503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab524ac072670ad66c54fa64539fad503">&#9670;&#160;</a></span>rendered_left</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">short rendered_left[512]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00083">83</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

</div>
</div>
<a id="aacdc06af33627c2816d728e4ae45f3c1" name="aacdc06af33627c2816d728e4ae45f3c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacdc06af33627c2816d728e4ae45f3c1">&#9670;&#160;</a></span>rendered_right</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">short rendered_right[512]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="audsrv_8c_source.html#l00084">84</a> of file <a class="el" href="audsrv_8c_source.html">audsrv.c</a>.</p>

</div>
</div>
<a id="ad23dc209a0ea2d9b3b4db0f4fc741ed1" name="ad23dc209a0ea2d9b3b4db0f4fc741ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23dc209a0ea2d9b3b4db0f4fc741ed1">&#9670;&#160;</a></span>_exp_audsrv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="irx_8h.html#structirx__export__table">irx_export_table</a> _exp_audsrv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>exports table </p>

<p class="reference">Referenced by <a class="el" href="audsrv_8c_source.html#l00556">_start()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0981ace215aa2029f526b70c145b9fbe.html">iop</a></li><li class="navelem"><a class="el" href="dir_838e88315325ec0d843359dcae22d639.html">sound</a></li><li class="navelem"><a class="el" href="dir_c224f8f6f41c46dc69cc573710289bc0.html">audsrv</a></li><li class="navelem"><a class="el" href="dir_4304e6a09d2ca52231132d217435644b.html">src</a></li><li class="navelem"><a class="el" href="audsrv_8c.html">audsrv.c</a></li>
    <li class="footer">Generated on Sat Oct 11 2025 03:29:55 for PS2SDK by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
